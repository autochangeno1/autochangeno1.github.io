<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="./assets/img1/BITSHA幣夏_2.png"
    />
    <link rel="icon" type="image/png" href="./assets/img1/BITSHA幣夏_2.png" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>BITSHA</title>
    <meta
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no"
      name="viewport"
    />
    <!--     Fonts and icons     -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css"
    />
    <!-- CSS Files -->
    <link href="./assets/css/material-kit.css?v=2.2.1" rel="stylesheet" />
    <!-- CSS Just for demo purpose, don't include it in your project -->
    <link href="./assets/demo/demo.css" rel="stylesheet" />
    <link href="./assets/demo/vertical-nav.css" rel="stylesheet" />
    <style>
      @media (max-width: 768px) {
        .responsive-img1 {
          width: 60%;
          margin-top: 20px !important;
        }
      }
      @media (min-width: 768px) {
        .responsive-img1 {
          width: 60%;
        }
      }

      @media (max-width: 768px) {
        .responsive-login {
          margin-bottom: 55px;
        }
      }
      @media (min-width: 768px) {
        .responsive-login {
          margin: 50px;
        }
      }
    </style>
  </head>
  <body class="index-page sidebar-collapse">
    <nav
      class="navbar navbar-color-on-scroll navbar-transparent fixed-top navbar-expand-lg"
      color-on-scroll="100"
      id="sectionsNav"
    >
      <div class="container">
        <div class="navbar-translate">
          <a class="navbar-brand" href="#" style="padding: 0">
            <!-- BITSHA  -->
            <img
              style="
                border-radius: 0;
                box-shadow: none;
                /* width: 40px;
                max-width: 40px;
                max-height: 40px; */
                width: 125px;
                pointer-events: none;
              "
              src="./assets/img1/BITSHA幣夏_4.jpg"
            />
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="sr-only">Toggle navigation</span>
            <span class="navbar-toggler-icon"></span>
            <span class="navbar-toggler-icon"></span>
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="navbar-nav ml-auto">
            <li class="dropdown nav-item">
              <a
                onclick="window.location.href = 'index.html'"
                href="#"
                class="nav-link"
                data-toggle="dropdown"
              >
                首頁
              </a>
            </li>
            <li class="dropdown nav-item">
              <a
                onclick="window.location.href = 'about.html'"
                href="#"
                class="nav-link"
                data-toggle="dropdown"
              >
                關於我們
              </a>
            </li>
            <li class="dropdown nav-item">
              <a
                onclick="window.location.href = 'trade.html'"
                href="#"
                class="nav-link"
                data-toggle="dropdown"
              >
                交易
              </a>
            </li>
            <li class="dropdown nav-item">
              <a href="#" class="nav-link" data-toggle="dropdown"> 常見問題 </a>
            </li>
            <li class="button-container nav-item iframe-extern">
              <a href="" target="_blank">
                <img
                  style="
                    border-radius: 0;
                    box-shadow: none;
                    width: 40px;
                    max-width: 40px;
                    max-height: 40px;
                    pointer-events: none;
                  "
                  src="./assets/img1/素材_FB Icon.png"
                />
              </a>
            </li>
            <li class="button-container nav-item iframe-extern">
              <a href="" target="_blank">
                <img
                  style="
                    border-radius: 0;
                    box-shadow: none;
                    width: 40px;
                    max-width: 40px;
                    max-height: 40px;
                    pointer-events: none;
                  "
                  src="./assets/img1/素材_IG Icon.png"
                />
              </a>
            </li>
            <li class="button-container nav-item iframe-extern">
              <a href="" target="_blank">
                <img
                  style="
                    border-radius: 0;
                    box-shadow: none;
                    width: 40px;
                    max-width: 40px;
                    max-height: 40px;
                    pointer-events: none;
                  "
                  src="./assets/img1/素材_M.png"
                />
              </a>
            </li>
            <li class="button-container nav-item iframe-extern">
              <a
                target="_blank"
                onclick="window.location.href = 'login.html'"
                href="#"
              >
                <img
                  style="
                    border-radius: 0;
                    box-shadow: none;
                    width: 40px;
                    max-width: 40px;
                    max-height: 40px;
                    pointer-events: none;
                  "
                  src="./assets/img1/素材_登入 Icon.png"
                />
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- <div
      class="page-header"
      data-parallax="true"
      style="
        background-image: url('./assets/img1/素材_登入註冊.png');
        height: 55vh;
      "
    ></div> -->
    <div class="main main-raised">
      <div
        class="page-header"
        data-parallax="true"
        style="background-image: url('./assets/img1/bn-小1.png'); height: 55vh"
      >
        <div class="container containerTop">
          <div class="row btnRegRow">
            <div class="col-md-8 ml-auto mr-auto">
              <h1 class="title">登入、註冊</h1>
            </div>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="row" style="height: 230px"></div>
        <div class="row">
          <div
            class="col-md-10 ml-auto mr-auto"
            style="
              box-shadow: 0px 0px 0px 1px rgba(0, 0, 0, 0.14),
                1px 1px 3px 3px rgba(0, 0, 0, 0.2),
                0 3px 3px 0 rgba(0, 0, 0, 0.12);
              border-radius: 15px;
            "
          >
            <div class="card card-signup" style="box-shadow: none">
              <h2
                class="card-title text-center"
                style="margin-bottom: 50px; color: black"
              >
                註冊
              </h2>
              <div class="card-body">
                <div class="row">
                  <div
                    class="col-md-10 mr-auto"
                    style="margin-left: auto !important"
                  >
                    <div class="form-group">
                      <div class="input-group">
                        <div class="input-group-prepend">
                          <span class="input-group-text">
                            <i class="material-icons">face</i>
                          </span>
                        </div>
                        <input
                          type="text"
                          id="usernameInput"
                          class="form-control"
                          placeholder="用戶名..."
                        />
                        <!-- 用戶名驗證提示 -->
                        <div
                          id="usernameValidationText"
                          style="color: red"
                        ></div>
                      </div>
                    </div>
                  </div>
                  <!-- <div
                    class="col-md-6 mr-auto"
                    style="margin-left: auto !important"
                  >
                    <div class="form-group">
                      <div class="input-group">
                        <div class="input-group-prepend">
                          <span class="input-group-text">
                            <i class="material-icons">phone</i>
                          </span>
                        </div>
                        <input
                          type="text"
                          class="form-control"
                          placeholder="聯絡電話..."
                        />
                      </div>
                    </div>
                  </div> -->
                </div>
                <div class="row">
                  <div
                    class="col-md-6 mr-auto"
                    style="margin-left: auto !important"
                  >
                    <div class="form-group">
                      <div class="input-group">
                        <div class="input-group-prepend">
                          <span class="input-group-text">
                            <i class="material-icons">mail</i>
                          </span>
                        </div>
                        <input
                          type="text"
                          id="emailInput"
                          class="form-control"
                          placeholder="Email..."
                        />
                        <!-- Email 驗證提示 -->
                        <div id="emailValidationText" style="color: red"></div>
                      </div>
                    </div>
                  </div>
                  <div
                    class="col-md-6 mr-auto"
                    style="margin-left: auto !important"
                  >
                    <div class="form-group">
                      <div class="input-group">
                        <div class="input-group-prepend">
                          <span class="input-group-text">
                            <i class="material-icons">people</i>
                          </span>
                        </div>
                        <input
                          type="text"
                          id="remarkInput"
                          class="form-control"
                          placeholder="推薦人..."
                        />
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <!-- <form class="form" method="" action=""> -->
                  <div
                    class="col-md-6 mr-auto"
                    style="margin-left: auto !important"
                  >
                    <div class="form-group">
                      <div class="input-group">
                        <div class="input-group-prepend">
                          <span class="input-group-text">
                            <i class="material-icons">password</i>
                          </span>
                        </div>
                        <input
                          type="password"
                          id="passwordInput"
                          class="form-control"
                          placeholder="密碼..."
                        />
                      </div>
                      <!-- 密碼驗證提示 -->
                      <div id="passwordMatchText" style="color: red"></div>
                    </div>
                  </div>
                  <div
                    class="col-md-6 mr-auto"
                    style="margin-left: auto !important"
                  >
                    <div class="form-group">
                      <div class="input-group">
                        <div class="input-group-prepend">
                          <span class="input-group-text">
                            <i class="material-icons">password</i>
                          </span>
                        </div>
                        <input
                          type="password"
                          id="confirmPasswordInput"
                          class="form-control"
                          placeholder="密碼確認..."
                        />
                        <!-- 密碼強度提示 -->
                        <div id="passwordStrengthText" style="color: red"></div>
                      </div>
                    </div>
                  </div>
                  <div
                    class="col-md-12 mr-auto"
                    style="margin-left: auto !important"
                  >
                    <div
                      class="row responsive-login"
                      style="justify-content: center"
                    >
                      <!-- <div class="text-center">
                        <a
                          href="registerKYC.html"
                          class="btn btn-primary btn-round"
                          style="
                            background-color: #004793;
                            font-size: 32px;
                            padding: 22px 45px;
                          "
                          >註冊</a
                        >
                      </div> -->
                      <div class="text-center">
                        <button
                          id="registerButton"
                          class="btn btn-primary btn-round"
                          style="
                            background-color: #004793;
                            font-size: 32px;
                            padding: 22px 45px;
                          "
                        >
                          註冊
                        </button>
                      </div>
                    </div>
                  </div>
                  <!-- </form> -->
                </div>
                <div class="row"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="row" style="height: 100px"></div>
      </div>

      <!--     *********     法遵夥伴      *********      -->
      <div
        class="features-5"
        style="background-image: url('./assets/img/examples/card-project4.jpg')"
      >
        <div class="col-md-8 ml-auto mr-auto text-center">
          <h2 class="title">法遵夥伴</h2>
          <h5 class="title">
            BITSHA與全球領先用戶實名驗證和反洗錢技術夥伴合作，保護用戶資產與個資，並遵循法規與監管。
          </h5>
        </div>
        <div class="container">
          <div class="row">
            <div class="col-sm-4">
              <div class="info" style="min-height: 230px; padding: 30px 0 30px">
                <div class="icon">
                  <i class="material-icons">dashboard</i>
                </div>
                <h4 class="info-title">XX律師事務所</h4>
                <p>全台灣最專業的虛擬貨幣律師事務所</p>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="info" style="min-height: 230px; padding: 30px 0 30px">
                <div class="icon">
                  <i class="material-icons">dashboard</i>
                </div>
                <h4 class="info-title">XX律師事務所</h4>
                <p>全台灣最專業的虛擬貨幣律師事務所</p>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="info" style="min-height: 230px; padding: 30px 0 30px">
                <div class="icon">
                  <i class="material-icons">dashboard</i>
                </div>
                <h4 class="info-title">XX律師事務所</h4>
                <p>全台灣最專業的虛擬貨幣律師事務所</p>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-4">
              <div class="info" style="min-height: 230px; padding: 30px 0 30px">
                <div class="icon">
                  <i class="material-icons">dashboard</i>
                </div>
                <h4 class="info-title">XX律師事務所</h4>
                <p>全台灣最專業的虛擬貨幣律師事務所</p>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="info" style="min-height: 230px; padding: 30px 0 30px">
                <div class="icon">
                  <i class="material-icons">dashboard</i>
                </div>
                <h4 class="info-title">XX律師事務所</h4>
                <p>全台灣最專業的虛擬貨幣律師事務所</p>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="info" style="min-height: 230px; padding: 30px 0 30px">
                <div class="icon">
                  <i class="material-icons">dashboard</i>
                </div>
                <h4 class="info-title">XX律師事務所</h4>
                <p>全台灣最專業的虛擬貨幣律師事務所</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!--     *********    END 法遵夥伴      *********      -->

      <!--     *********    BIG WHITE FOOTER V2     *********      -->
      <footer class="footer footer-black footer-big">
        <div class="container">
          <div class="content">
            <div class="row">
              <div class="col-md-4">
                <a href="#pablo">
                  <h3>BITSHA</h3>
                </a>
              </div>
              <div class="col-md-2">
                <a href="#pablo"> <h5>關於我們</h5> </a>
              </div>
              <div class="col-md-2">
                <h5>交易頁面</h5>
                <ul class="links-vertical">
                  <li>
                    <a href="#pablo"> 幣種、數量選擇 </a>
                  </li>
                  <li>
                    <a href="#pablo"> 支付頁面 </a>
                  </li>
                </ul>
              </div>
              <div class="col-md-2">
                <a href="#pablo"> <h5>會員註冊</h5> </a>
              </div>
              <div class="col-md-2">
                <a href="#pablo"> <h5>常見問題</h5> </a>
              </div>
            </div>
          </div>
          <hr />
          <ul class="social-buttons">
            <li>
              <a href="#pablo" class="btn btn-just-icon btn-link btn-twitter">
                <i class="fa fa-twitter"></i>
              </a>
            </li>
            <li>
              <a href="#pablo" class="btn btn-just-icon btn-link btn-facebook">
                <i class="fa fa-facebook-square"></i>
              </a>
            </li>
            <li>
              <a href="#pablo" class="btn btn-just-icon btn-link btn-google">
                <i class="fa fa-google-plus"></i>
              </a>
            </li>
            <li>
              <a href="#pablo" class="btn btn-just-icon btn-link btn-youtube">
                <i class="fa fa-youtube-play"></i>
              </a>
            </li>
          </ul>
          <div class="copyright pull-center">
            Copyright &#xA9;
            <script>
              document.write(new Date().getFullYear());
            </script>
            made by BITSHA.
          </div>
        </div>
      </footer>
      <!--     *********   END BIG WHITE FOOTER v2     *********      -->
    </div>
    <!--   Core JS Files   -->
    <script
      src="./assets/js/core/jquery.min.js"
      type="text/javascript"
    ></script>
    <script
      src="./assets/js/core/popper.min.js"
      type="text/javascript"
    ></script>
    <script
      src="./assets/js/core/bootstrap-material-design.min.js"
      type="text/javascript"
    ></script>
    <script src="./assets/js/plugins/moment.min.js"></script>
    <!--	Plugin for the Datepicker, full documentation here: https://github.com/Eonasdan/bootstrap-datetimepicker -->
    <script
      src="./assets/js/plugins/bootstrap-datetimepicker.js"
      type="text/javascript"
    ></script>
    <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
    <script
      src="./assets/js/plugins/nouislider.min.js"
      type="text/javascript"
    ></script>
    <!--  Google Maps Plugin    -->
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>
    <!--	Plugin for Tags, full documentation here: https://github.com/bootstrap-tagsinput/bootstrap-tagsinputs  -->
    <script src="./assets/js/plugins/bootstrap-tagsinput.js"></script>
    <!--	Plugin for Select, full documentation here: http://silviomoreto.github.io/bootstrap-select -->
    <script
      src="./assets/js/plugins/bootstrap-selectpicker.js"
      type="text/javascript"
    ></script>
    <!--	Plugin for Fileupload, full documentation here: http://www.jasny.net/bootstrap/javascript/#fileinput -->
    <script
      src="./assets/js/plugins/jasny-bootstrap.min.js"
      type="text/javascript"
    ></script>
    <!--	Plugin for Small Gallery in Product Page -->
    <script
      src="./assets/js/plugins/jquery.flexisel.js"
      type="text/javascript"
    ></script>
    <!-- Plugins for presentation and navigation  -->
    <script src="./assets/demo/modernizr.js" type="text/javascript"></script>
    <script src="./assets/demo/vertical-nav.js" type="text/javascript"></script>
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!-- Js With initialisations For Demo Purpose, Don't Include it in Your Project -->
    <script src="./assets/demo/demo.js" type="text/javascript"></script>
    <!-- Control Center for Material Kit: parallax effects, scripts for the example pages etc -->
    <script
      src="./assets/js/material-kit.js?v=2.2.1"
      type="text/javascript"
    ></script>
    <script>
      $(document).ready(function () {
        //init DateTimePickers
        materialKit.initFormExtendedDatetimepickers();

        // Sliders Init
        materialKit.initSliders();
      });
    </script>

    <script>
      // 檢查密碼是否匹配
      function checkPasswordMatch(
        passwordInput,
        confirmPasswordInput,
        passwordMatchText
      ) {
        if (passwordInput.value !== confirmPasswordInput.value) {
          passwordMatchText.textContent = "兩次輸入的密碼不相符";
        } else {
          passwordMatchText.textContent = "";
        }
      }

      // 檢查密碼強度
      function checkPasswordStrength(passwordInput, passwordStrengthText) {
        const password = passwordInput.value;
        const hasUpperCase = /[A-Z]/.test(password);
        const hasLowerCase = /[a-z]/.test(password);
        const hasNumbers = /\d/.test(password);
        const hasValidLength = password.length >= 8;

        if (hasUpperCase && hasLowerCase && hasNumbers && hasValidLength) {
          passwordStrengthText.textContent = "";
        } else {
          passwordStrengthText.textContent =
            "密碼強度不足，密碼必須同時包涵大小寫英文以及數字，並且大於八位字元";
        }
      }

      // 檢查 Email 是否合格
      function checkEmailValidation(emailInput, emailValidationText) {
        const email = emailInput.value;
        const regex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        if (!regex.test(email)) {
          emailValidationText.textContent = "不是一個有效的 Email 地址";
        } else {
          emailValidationText.textContent = "";
        }
      }

      // 檢查用戶名是否合格
      function checkUsernameValidation(usernameInput, usernameValidationText) {
        const username = usernameInput.value;
        const regex = /^[a-zA-Z0-9!@#$%^&*()_+,\.-]+$/;
        if (!regex.test(username)) {
          usernameValidationText.textContent =
            "用戶名不能包含中文或其他不允許的字元";
        } else {
          usernameValidationText.textContent = "";
        }
      }

      async function registerUser() {
        const username = document.getElementById("usernameInput").value;
        const email = document.getElementById("emailInput").value;
        const remark = document.getElementById("remarkInput").value;
        const password = document.getElementById("passwordInput").value;

        const data = {
          email,
          password,
          remark,
          username,
        };

        const response = await fetch(
          "http://127.0.0.1:8480/service/registry_account",
          {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(data),
          }
        );

        const responseData = await response.json();
        console.log(responseData);
        if (
          response.status === 200 ||
          response.status === 201 ||
          response.status === 204
        ) {
          alert("註冊成功！");
          window.location.href = "login.html";
        } else {
          // const responseData = await response.json();
          let showMsg = responseData.msg;
          alert("註冊失敗： " + showMsg);
        }
      }

      document.addEventListener("DOMContentLoaded", function () {
        const registerButton = document.getElementById("registerButton");
        const passwordInput = document.getElementById("passwordInput");
        const confirmPasswordInput = document.getElementById(
          "confirmPasswordInput"
        );
        const passwordMatchText = document.getElementById("passwordMatchText");
        const passwordStrengthText = document.getElementById(
          "passwordStrengthText"
        );

        const emailInput = document.getElementById("emailInput");
        const usernameInput = document.getElementById("usernameInput");
        const emailValidationText = document.getElementById(
          "emailValidationText"
        );
        const usernameValidationText = document.getElementById(
          "usernameValidationText"
        );

        passwordInput.addEventListener("input", function () {
          checkPasswordMatch(
            passwordInput,
            confirmPasswordInput,
            passwordMatchText
          );
          checkPasswordStrength(passwordInput, passwordStrengthText);
        });

        confirmPasswordInput.addEventListener("input", function () {
          checkPasswordMatch(
            passwordInput,
            confirmPasswordInput,
            passwordMatchText
          );
        });

        emailInput.addEventListener("input", function () {
          checkEmailValidation(emailInput, emailValidationText);
        });

        usernameInput.addEventListener("input", function () {
          checkUsernameValidation(usernameInput, usernameValidationText);
        });

        registerButton.addEventListener("click", registerUser);
      });
    </script>
    <!-- <nav id="cd-vertical-nav">
      <ul>
        <li>
          <a href="#buttons" data-number="1">
            <span class="cd-dot"></span>
            <span class="cd-label">Basic Elements</span>
          </a>
        </li>
        <li>
          <a href="#navigation" data-number="2">
            <span class="cd-dot"></span>
            <span class="cd-label">Navigation</span>
          </a>
        </li>
        <li>
          <a href="#notifications" data-number="3">
            <span class="cd-dot"></span>
            <span class="cd-label">Notifications</span>
          </a>
        </li>
        <li>
          <a href="#footers" data-number="4">
            <span class="cd-dot"></span>
            <span class="cd-label">Footers</span>
          </a>
        </li>
        <li>
          <a href="#typography" data-number="5">
            <span class="cd-dot"></span>
            <span class="cd-label">Typography</span>
          </a>
        </li>
        <li>
          <a href="#contentAreas" data-number="6">
            <span class="cd-dot"></span>
            <span class="cd-label">Content Areas</span>
          </a>
        </li>
        <li>
          <a href="#cards" data-number="7">
            <span class="cd-dot"></span>
            <span class="cd-label">Cards</span>
          </a>
        </li>
        <li>
          <a href="#morphingCards" data-number="8">
            <span class="cd-dot"></span>
            <span class="cd-label">Morphing Cards</span>
          </a>
        </li>
        <li>
          <a href="#javascriptComponents" data-number="9">
            <span class="cd-dot"></span>
            <span class="cd-label">Javascript</span>
          </a>
        </li>
      </ul>
    </nav> -->
  </body>
</html>
